# ズーム画像クイズ 仕様書（簡易版）

概要
- Spring Boot + Thymeleaf のズーム画像クイズ。
- 入力は「ひらがな」のみ（現在の仕様）。カタカナ・漢字・英数字は不可。
- ランキングは「できれば」で任意。未実装でも可。

目的
- http://localhost:80/game にアクセスして、ズーム画像＋回答フォームで正解判定を行う。

画面仕様
- /game
  - 2分割レイアウト（左:画像 右:フォーム＝4:1）
  - 入室時にランダムでズーム画像を1枚表示（既存 images.html のズームJSをそのまま利用）
  - 右側にひらがな入力フォームと送信ボタン
- ランキング（任意）
  - http://localhost:80/ranking.html（実装する場合）
  - 正解者を「回答した順」で表示

機能要件
- 開始
  - 1Pのみ「開始」ボタンが押下可能
  - 押下でゲーム開始フラグをサーバに記録し、他ユーザも /game に遷移
- 表示
  - /game 入室時にランダム画像を選択してズーム再生
  - ズーム速度・挙動は images.html の仕様を変更しない
- 回答
  - 入力はひらがなのみ。サーバ側でひらがなチェック・正規化
  - 画像ごとの正解（ひらがな）と一致で正解
- 記録（最低限）
  - 正解・不正解の結果を保存（テーブルやメモリは任意）
  - 正解した順に並べるため、回答時刻を保存（ランキングを実装する場合）

ひらがな判定仕様
- 入力の前後空白をトリム
- 全角／半角の統一、カタカナ→ひらがな変換は不要（「ひらがなのみ」前提）
- ひらがな以外の文字が含まれていたらエラー
- 完全一致で判定（例: answerKana と一致）

API／ルーティング（例）
- POST /game/start（1Pのみ）: 開始フラグ保存、他ユーザ誘導
- GET  /game: 画像＋フォーム表示、ランダム画像選択
- POST /game/answer: ひらがな判定→結果保存
- GET  /api/ranking（任意）: 正解時刻昇順のJSON
- GET  /ranking.html（任意）: テーブル表示

データモデル（例）
- Image(id, fileName, url, answerKana)
- Result(id, userName, imageId, correct, answeredAt)  // ランキングが必要なら使用
- GameState(started, startedAt, startedBy)           // 1P開始制御

実装タスク（今週）
- /game の2分割レイアウトとランダム画像表示
- 開始ボタン（1Pのみ可）→ 全ユーザ /game 遷移
- ひらがな入力フォームと正解判定（画像ごとの answerKana と一致）
- 結果保存（最低限のテーブル or メモリ）
- ランキングは任意。必要なら /api/ranking と ranking.html を追加

DoD
- /game に入るとランダムでズーム画像が表示される
- ひらがな入力で正解／不正の判定ができる
- 1P開始で他ユーザも /game に遷移する
- ランキングは未実装でも可（任意）
